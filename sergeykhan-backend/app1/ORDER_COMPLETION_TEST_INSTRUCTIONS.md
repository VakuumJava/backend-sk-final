# Инструкция по тестированию завершения заказов

## Созданные тестовые заказы для завершения

Мы создали несколько тестовых заказов, которые находятся в статусах **"назначен"** и **"выполняется"**. Эти заказы готовы к ручному тестированию процесса завершения.

### Список тестовых заказов:

1. Заказ #27: Дмитрий Иванова - назначен - Назначено на: 17.06.2025 15:30
2. Заказ #28: Дмитрий Сидорова - выполняется - Алексей Петров - Назначено на: 18.06.2025 16:15
3. Заказ #29: Елена Иванов - выполняется - Сергей Сидоров - Назначено на: 16.06.2025 14:30
4. Заказ #30: Мария Кузнецова - назначен - Дмитрий Иванов - Назначено на: 18.06.2025 15:00
5. Заказ #31: Петр Кузнецов - выполняется - Андрей Козлов - Назначено на: 20.06.2025 17:45
6. Заказ #32: Петр Смирнова - выполняется - Андрей Козлов - Назначено на: 19.06.2025 09:45
7. Заказ #33: Дмитрий Петрова - назначен - Андрей Козлов - Назначено на: 18.06.2025 10:00
8. Заказ #34: Екатерина Кузнецов - назначен - Сергей Сидоров - Назначено на: 19.06.2025 11:45
9. Заказ #35: Дмитрий Иванов - назначен - Дмитрий Иванов - Назначено на: 17.06.2025 13:45
10. Заказ #36: Елена Кузнецова - назначен - Назначено на: 18.06.2025 10:30

## Инструкция по тестированию процесса завершения заказа

### Для мастеров:

1. **Войдите в систему** как один из тестовых мастеров:
   - Алексей Петров (master1@test.com, пароль: test123456)
   - Дмитрий Иванов (master2@test.com, пароль: test123456)
   - Сергей Сидоров (master3@test.com, пароль: test123456)
   - Андрей Козлов (master4@test.com, пароль: test123456)

2. **Перейдите к своим заказам** и найдите заказ, назначенный вам со статусом "выполняется" или "назначен".

3. **Отметьте заказ как выполненный**:
   - Заполните информацию о проделанной работе
   - Укажите стоимость запчастей и работы
   - Загрузите фотографии (если требуется)
   - Отправьте на подтверждение

### Для кураторов:

1. **Войдите в систему** как куратор:
   - Елена Кураторова (curator1@test.com, пароль: test123456)

2. **Проверьте заказы, ожидающие подтверждения**:
   - Просмотрите детали завершения заказа
   - Проверьте указанные затраты и фотографии

3. **Подтвердите или отклоните завершение**:
   - При подтверждении: заказ переходит в статус "завершен"
   - При отклонении: заказ возвращается мастеру на доработку

### Тестовые сценарии:

1. **Стандартное завершение заказа**:
   - Мастер отмечает заказ как выполненный
   - Куратор подтверждает завершение
   - Заказ переходит в статус "завершен"

2. **Отклонение завершения заказа**:
   - Мастер отмечает заказ как выполненный
   - Куратор отклоняет завершение с комментарием
   - Заказ возвращается мастеру
   - Мастер исправляет и отправляет повторно

3. **Завершение заказа с затратами**:
   - Мастер указывает затраты на запчасти и транспорт
   - Куратор проверяет затраты и подтверждает
   - Система правильно учитывает затраты в финансовом отчете

## Ожидаемые результаты:

1. Мастер может успешно отметить заказ как выполненный.
2. Куратор видит заказы, ожидающие подтверждения.
3. Куратор может подтвердить или отклонить завершение заказа.
4. Система корректно обновляет статусы заказов.
5. При завершении заказа обновляется финансовая информация.
6. Фотографии завершенных заказов успешно загружаются и отображаются.

## Логи и аудит:

При тестировании обратите внимание на:
1. Корректность создания записей в журнале действий с заказами.
2. Правильность обновления баланса мастера.
3. Отображение истории изменений заказа.

---

**Примечание**: Все созданные заказы помечены как тестовые (`is_test=True`), чтобы их можно было легко отфильтровать в системе.
